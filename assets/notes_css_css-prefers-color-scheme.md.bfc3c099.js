import{_ as s,o as a,c as n,Q as e}from"./chunks/framework.55458a4a.js";const m=JSON.parse('{"title":"CSS prefers-color-scheme 媒体特性","description":"","frontmatter":{},"headers":[],"relativePath":"notes/css/css-prefers-color-scheme.md","filePath":"notes/css/css-prefers-color-scheme.md","lastUpdated":1693448758000}'),l={name:"notes/css/css-prefers-color-scheme.md"},p=e(`<h1 id="css-prefers-color-scheme-媒体特性" tabindex="-1">CSS prefers-color-scheme 媒体特性 <a class="header-anchor" href="#css-prefers-color-scheme-媒体特性" aria-label="Permalink to &quot;CSS prefers-color-scheme 媒体特性&quot;">​</a></h1><ul><li><code>@media (prefers-color-scheme: light)</code> 表示用户已告知系统他们选择使用浅色主题的界面。</li><li><code>@media (prefers-color-scheme: dark)</code> 表示用户已告知系统他们选择使用暗色主题的界面。</li></ul><div class="language-css vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">css</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">.alice</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#79B8FF;">background-color</span><span style="color:#E1E4E8;">: </span><span style="color:#79B8FF;">#fff</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">@media</span><span style="color:#E1E4E8;"> (prefers-color-scheme: light) {</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#B392F0;">.alice</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">background-color</span><span style="color:#E1E4E8;">: </span><span style="color:#79B8FF;">#fff</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">  }</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">@media</span><span style="color:#E1E4E8;"> (prefers-color-scheme: dark) {</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#B392F0;">.alice</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">background-color</span><span style="color:#E1E4E8;">: </span><span style="color:#79B8FF;">#000</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">  }</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">.alice</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#005CC5;">background-color</span><span style="color:#24292E;">: </span><span style="color:#005CC5;">#fff</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">@media</span><span style="color:#24292E;"> (prefers-color-scheme: light) {</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6F42C1;">.alice</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#005CC5;">background-color</span><span style="color:#24292E;">: </span><span style="color:#005CC5;">#fff</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">  }</span></span>
<span class="line"><span style="color:#24292E;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">@media</span><span style="color:#24292E;"> (prefers-color-scheme: dark) {</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6F42C1;">.alice</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#005CC5;">background-color</span><span style="color:#24292E;">: </span><span style="color:#005CC5;">#000</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">  }</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre></div><p>JavaScript 查询</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">isDark</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> window.</span><span style="color:#B392F0;">matchMedia</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;(prefers-color-scheme: dark)&#39;</span><span style="color:#E1E4E8;">).matches</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">isDark</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> window.</span><span style="color:#6F42C1;">matchMedia</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;(prefers-color-scheme: dark)&#39;</span><span style="color:#24292E;">).matches</span></span></code></pre></div><p>JavaScript 监听</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#6A737D;">// MediaQueryList</span></span>
<span class="line"><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">darkModePreference</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> window.</span><span style="color:#B392F0;">matchMedia</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;(prefers-color-scheme: dark)&#39;</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">let</span><span style="color:#E1E4E8;"> isDark </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> darkModePreference.matches</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">// recommended method for newer browsers: specify event-type as first argument</span></span>
<span class="line"><span style="color:#E1E4E8;">darkModePreference.</span><span style="color:#B392F0;">addEventListener</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;change&#39;</span><span style="color:#E1E4E8;">, (</span><span style="color:#FFAB70;">e</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">  isDark </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> e.matches</span></span>
<span class="line"><span style="color:#E1E4E8;">})</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;">// MediaQueryList</span></span>
<span class="line"><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">darkModePreference</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> window.</span><span style="color:#6F42C1;">matchMedia</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;(prefers-color-scheme: dark)&#39;</span><span style="color:#24292E;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">let</span><span style="color:#24292E;"> isDark </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> darkModePreference.matches</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">// recommended method for newer browsers: specify event-type as first argument</span></span>
<span class="line"><span style="color:#24292E;">darkModePreference.</span><span style="color:#6F42C1;">addEventListener</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;change&#39;</span><span style="color:#24292E;">, (</span><span style="color:#E36209;">e</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">  isDark </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> e.matches</span></span>
<span class="line"><span style="color:#24292E;">})</span></span></code></pre></div><h2 id="参考" tabindex="-1">参考 <a class="header-anchor" href="#参考" aria-label="Permalink to &quot;参考&quot;">​</a></h2><ul><li><a href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/@media/prefers-color-scheme" target="_blank" rel="noreferrer">MDN prefers-color-scheme</a></li><li><a href="https://caniuse.com/?search=prefers-color-scheme" target="_blank" rel="noreferrer"><code>prefers-color-scheme</code> 兼容性</a></li><li><a href="https://caniuse.com/?search=window.matchMedia" target="_blank" rel="noreferrer"><code>window.matchMedia</code> 兼容性</a></li></ul>`,9),o=[p];function c(r,t,E,i,y,d){return a(),n("div",null,o)}const f=s(l,[["render",c]]);export{m as __pageData,f as default};
