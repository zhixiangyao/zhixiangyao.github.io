import{d as x,j as B,o as D,c as I,J as oe,l as ie,F as re,a0 as ke,v as se,a1 as Ce,a2 as Le,k as S,t as Y,p as xe,m as He,_ as Re,u as Q,g as Ae,G as Oe,h as de,a3 as Se,Q as Te,f as De,A as W,a4 as Ie,a5 as je,a6 as Be,a7 as Pe,a8 as Ne,a9 as Fe,aa as Je,ab as $e,ac as Ve,ad as Me,ae as Ze,x as Ue,af as Xe,ag as Ge,ah as qe,ai as Ye}from"./chunks/framework.1d89e2bb.js";import{t as K}from"./chunks/theme.1b4605f8.js";function ce(o,e){return new Promise((n,i)=>{let a;e==="css"?(a=document.createElement("link"),a.rel="stylesheet",a.href=o):e==="js"&&(a=document.createElement("script"),a.src=o),a&&(a.onload=()=>n(o),a.onerror=()=>i(o),document.head.appendChild(a))})}const We=x({name:"GoogleTag",__name:"GoogleTag",setup(o){const e=(...i)=>{window.dataLayer.push(i)},n=()=>{window.dataLayer=window.dataLayer||[],e("js",new Date),e("config","G-1E9XR885EH")};return B(()=>{ce("https://www.googletagmanager.com/gtag/js?id=G-1E9XR885EH","js"),n()}),()=>{}}}),Ke=x({__name:"Layout",setup(o){const{Layout:e}=K;return(n,i)=>(D(),I(re,null,[oe(We),oe(ie(e))],64))}});const Qe=o=>(xe("data-v-813e07a2"),o=o(),He(),o),et={class:"filter-jd-cookie"},tt=Qe(()=>S("div",null,"Original Cookie:",-1)),ot=x({name:"FilterJDCookie",__name:"FilterJDCookie",setup(o){const e=ke({cookie:"",filteredJDCookie:"",msg:""}),n=a=>{var b,H;const c=a,v=((b=c.match(/pt_pin=.+?;/))==null?void 0:b[0])??"",m=((H=c.match(/pt_key=.+?;/))==null?void 0:H[0])??"";return v+m},i=()=>{const a=n(e.cookie);a?(e.filteredJDCookie=encodeURI(a),window.copy&&window.copy(e.filteredJDCookie),e.msg="过滤成功"):(e.filteredJDCookie="",e.msg="过滤失败")};return se(()=>e.cookie,a=>{a&&i()}),(a,c)=>(D(),I("div",et,[tt,Ce(S("textarea",{"onUpdate:modelValue":c[0]||(c[0]=v=>e.cookie=v),placeholder:"请把 cookie 黏贴到这里",cols:"30",rows:"10"},null,512),[[Le,e.cookie]]),S("div",null,"Filtered JD Cookie: "+Y(e.msg?` (${e.msg})`:"")+":",1),S("code",null,Y(e.filteredJDCookie),1)]))}});const nt=Re(ot,[["__scopeId","data-v-813e07a2"]]),at=["href"],it=x({__name:"BlogList",setup(o){const{theme:e}=Q(),n=Ae(()=>{const i=[],a=Object.values(e.value.sidebar);for(const c of a)for(const{items:v}of c)for(const m of v)i.push(m);return i});return(i,a)=>(D(!0),I(re,null,Oe(n.value,c=>(D(),I("ul",{key:c.link},[S("li",null,[S("a",{href:c.link},Y(c.text),9,at)])]))),128))}}),rt=x({name:"Rain",__name:"Rain",setup(o){const e=()=>{const a=de();let c;const v="https://raw.githubusercontent.com/zhixiangyao/CDN/master/images",m={desktopDark:v+"/anime/fate/999332.png",desktopLight:v+"/anime/fate/688669.png",mobileDark:v+"/anime/twitter/3.jpeg",mobileLight:v+"/anime/twitter/2.jpeg"},C="https://yaozhixiang.top/assets/js/RaindropFX.js",b=()=>{if(!a.value||!c)return;const f=a.value.getBoundingClientRect();c.resize(f.width,f.height)},H=()=>{if(!c)return;const f=document.body.getBoundingClientRect();n.value?f.height>f.width?c.setBackground(m.mobileDark):c.setBackground(m.desktopDark):f.height>f.width?c.setBackground(m.mobileLight):c.setBackground(m.desktopLight)},V=f=>{Object.defineProperty(window,"RaindropFX",{value:null,writable:!0,configurable:!0});const h=document.querySelector(`[src="${f}"]`);h==null||h.remove()},M=async()=>{try{const f=document.body.getBoundingClientRect(),h=a.value.getBoundingClientRect();a.value.width=h.width,a.value.height=h.height;let E;n.value?f.height>f.width?E=m.mobileDark:E=m.desktopDark:f.height>f.width?E=m.mobileLight:E=m.desktopLight;const Z={canvas:a.value,background:E};c=new window.RaindropFX(Z),c.start()}catch(f){console.error(f)}};return B(()=>{V(C),ce(C,"js").then(()=>{M()})}),se(n,()=>{H()}),B(()=>{window.addEventListener("resize",b)}),Se(()=>{window.removeEventListener("resize",b)}),{canvasRef:a}},{isDark:n}=Q(),{canvasRef:i}=e();return(a,c)=>(D(),I("canvas",{ref:v=>i.value=v,id:"rain"},null,512))}});/*! medium-zoom 1.0.8 | MIT License | https://github.com/francoischalifour/medium-zoom */var L=Object.assign||function(o){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(o[i]=n[i])}return o},J=function(e){return e.tagName==="IMG"},st=function(e){return NodeList.prototype.isPrototypeOf(e)},$=function(e){return e&&e.nodeType===1},ne=function(e){var n=e.currentSrc||e.src;return n.substr(-4).toLowerCase()===".svg"},ae=function(e){try{return Array.isArray(e)?e.filter(J):st(e)?[].slice.call(e).filter(J):$(e)?[e].filter(J):typeof e=="string"?[].slice.call(document.querySelectorAll(e)).filter(J):[]}catch{throw new TypeError(`The provided selector is invalid.
Expects a CSS selector, a Node element, a NodeList or an array.
See: https://github.com/francoischalifour/medium-zoom`)}},dt=function(e){var n=document.createElement("div");return n.classList.add("medium-zoom-overlay"),n.style.background=e,n},ct=function(e){var n=e.getBoundingClientRect(),i=n.top,a=n.left,c=n.width,v=n.height,m=e.cloneNode(),C=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0,b=window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0;return m.removeAttribute("id"),m.style.position="absolute",m.style.top=i+C+"px",m.style.left=a+b+"px",m.style.width=c+"px",m.style.height=v+"px",m.style.transform="",m},O=function(e,n){var i=L({bubbles:!1,cancelable:!1,detail:void 0},n);if(typeof window.CustomEvent=="function")return new CustomEvent(e,i);var a=document.createEvent("CustomEvent");return a.initCustomEvent(e,i.bubbles,i.cancelable,i.detail),a},lt=function o(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=window.Promise||function(r){function s(){}r(s,s)},a=function(r){var s=r.target;if(s===N){h();return}_.indexOf(s)!==-1&&E({target:s})},c=function(){if(!(R||!t.original)){var r=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0;Math.abs(ee-r)>l.scrollOffset&&setTimeout(h,150)}},v=function(r){var s=r.key||r.keyCode;(s==="Escape"||s==="Esc"||s===27)&&h()},m=function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},s=r;if(r.background&&(N.style.background=r.background),r.container&&r.container instanceof Object&&(s.container=L({},l.container,r.container)),r.template){var u=$(r.template)?r.template:document.querySelector(r.template);s.template=u}return l=L({},l,s),_.forEach(function(p){p.dispatchEvent(O("medium-zoom:update",{detail:{zoom:g}}))}),g},C=function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return o(L({},l,r))},b=function(){for(var r=arguments.length,s=Array(r),u=0;u<r;u++)s[u]=arguments[u];var p=s.reduce(function(d,z){return[].concat(d,ae(z))},[]);return p.filter(function(d){return _.indexOf(d)===-1}).forEach(function(d){_.push(d),d.classList.add("medium-zoom-image")}),P.forEach(function(d){var z=d.type,w=d.listener,A=d.options;p.forEach(function(k){k.addEventListener(z,w,A)})}),g},H=function(){for(var r=arguments.length,s=Array(r),u=0;u<r;u++)s[u]=arguments[u];t.zoomed&&h();var p=s.length>0?s.reduce(function(d,z){return[].concat(d,ae(z))},[]):_;return p.forEach(function(d){d.classList.remove("medium-zoom-image"),d.dispatchEvent(O("medium-zoom:detach",{detail:{zoom:g}}))}),_=_.filter(function(d){return p.indexOf(d)===-1}),g},V=function(r,s){var u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return _.forEach(function(p){p.addEventListener("medium-zoom:"+r,s,u)}),P.push({type:"medium-zoom:"+r,listener:s,options:u}),g},M=function(r,s){var u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return _.forEach(function(p){p.removeEventListener("medium-zoom:"+r,s,u)}),P=P.filter(function(p){return!(p.type==="medium-zoom:"+r&&p.listener.toString()===s.toString())}),g},f=function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},s=r.target,u=function(){var d={width:document.documentElement.clientWidth,height:document.documentElement.clientHeight,left:0,top:0,right:0,bottom:0},z=void 0,w=void 0;if(l.container)if(l.container instanceof Object)d=L({},d,l.container),z=d.width-d.left-d.right-l.margin*2,w=d.height-d.top-d.bottom-l.margin*2;else{var A=$(l.container)?l.container:document.querySelector(l.container),k=A.getBoundingClientRect(),U=k.width,pe=k.height,fe=k.left,ge=k.top;d=L({},d,{width:U,height:pe,left:fe,top:ge})}z=z||d.width-l.margin*2,w=w||d.height-l.margin*2;var j=t.zoomedHd||t.original,he=ne(j)?z:j.naturalWidth||z,ve=ne(j)?w:j.naturalHeight||w,F=j.getBoundingClientRect(),ye=F.top,ze=F.left,X=F.width,G=F.height,_e=Math.min(Math.max(X,he),z)/X,we=Math.min(Math.max(G,ve),w)/G,q=Math.min(_e,we),be=(-ze+(z-X)/2+l.margin+d.left)/q,Ee=(-ye+(w-G)/2+l.margin+d.top)/q,te="scale("+q+") translate3d("+be+"px, "+Ee+"px, 0)";t.zoomed.style.transform=te,t.zoomedHd&&(t.zoomedHd.style.transform=te)};return new i(function(p){if(s&&_.indexOf(s)===-1){p(g);return}var d=function U(){R=!1,t.zoomed.removeEventListener("transitionend",U),t.original.dispatchEvent(O("medium-zoom:opened",{detail:{zoom:g}})),p(g)};if(t.zoomed){p(g);return}if(s)t.original=s;else if(_.length>0){var z=_;t.original=z[0]}else{p(g);return}if(t.original.dispatchEvent(O("medium-zoom:open",{detail:{zoom:g}})),ee=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0,R=!0,t.zoomed=ct(t.original),document.body.appendChild(N),l.template){var w=$(l.template)?l.template:document.querySelector(l.template);t.template=document.createElement("div"),t.template.appendChild(w.content.cloneNode(!0)),document.body.appendChild(t.template)}if(t.original.parentElement&&t.original.parentElement.tagName==="PICTURE"&&t.original.currentSrc&&(t.zoomed.src=t.original.currentSrc),document.body.appendChild(t.zoomed),window.requestAnimationFrame(function(){document.body.classList.add("medium-zoom--opened")}),t.original.classList.add("medium-zoom-image--hidden"),t.zoomed.classList.add("medium-zoom-image--opened"),t.zoomed.addEventListener("click",h),t.zoomed.addEventListener("transitionend",d),t.original.getAttribute("data-zoom-src")){t.zoomedHd=t.zoomed.cloneNode(),t.zoomedHd.removeAttribute("srcset"),t.zoomedHd.removeAttribute("sizes"),t.zoomedHd.removeAttribute("loading"),t.zoomedHd.src=t.zoomed.getAttribute("data-zoom-src"),t.zoomedHd.onerror=function(){clearInterval(A),console.warn("Unable to reach the zoom image target "+t.zoomedHd.src),t.zoomedHd=null,u()};var A=setInterval(function(){t.zoomedHd.complete&&(clearInterval(A),t.zoomedHd.classList.add("medium-zoom-image--opened"),t.zoomedHd.addEventListener("click",h),document.body.appendChild(t.zoomedHd),u())},10)}else if(t.original.hasAttribute("srcset")){t.zoomedHd=t.zoomed.cloneNode(),t.zoomedHd.removeAttribute("sizes"),t.zoomedHd.removeAttribute("loading");var k=t.zoomedHd.addEventListener("load",function(){t.zoomedHd.removeEventListener("load",k),t.zoomedHd.classList.add("medium-zoom-image--opened"),t.zoomedHd.addEventListener("click",h),document.body.appendChild(t.zoomedHd),u()})}else u()})},h=function(){return new i(function(r){if(R||!t.original){r(g);return}var s=function u(){t.original.classList.remove("medium-zoom-image--hidden"),document.body.removeChild(t.zoomed),t.zoomedHd&&document.body.removeChild(t.zoomedHd),document.body.removeChild(N),t.zoomed.classList.remove("medium-zoom-image--opened"),t.template&&document.body.removeChild(t.template),R=!1,t.zoomed.removeEventListener("transitionend",u),t.original.dispatchEvent(O("medium-zoom:closed",{detail:{zoom:g}})),t.original=null,t.zoomed=null,t.zoomedHd=null,t.template=null,r(g)};R=!0,document.body.classList.remove("medium-zoom--opened"),t.zoomed.style.transform="",t.zoomedHd&&(t.zoomedHd.style.transform=""),t.template&&(t.template.style.transition="opacity 150ms",t.template.style.opacity=0),t.original.dispatchEvent(O("medium-zoom:close",{detail:{zoom:g}})),t.zoomed.addEventListener("transitionend",s)})},E=function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},s=r.target;return t.original?h():f({target:s})},Z=function(){return l},me=function(){return _},ue=function(){return t.original},_=[],P=[],R=!1,ee=0,l=n,t={original:null,zoomed:null,zoomedHd:null,template:null};Object.prototype.toString.call(e)==="[object Object]"?l=e:(e||typeof e=="string")&&b(e),l=L({margin:0,background:"#fff",scrollOffset:40,container:null,template:null},l);var N=dt(l.background);document.addEventListener("click",a),document.addEventListener("keyup",v),document.addEventListener("scroll",c),window.addEventListener("resize",h);var g={open:f,close:h,toggle:E,update:m,clone:C,attach:b,detach:H,on:V,off:M,getOptions:Z,getImages:me,getZoomedImage:ue};return g};function mt(o,e){e===void 0&&(e={});var n=e.insertAt;if(!(!o||typeof document>"u")){var i=document.head||document.getElementsByTagName("head")[0],a=document.createElement("style");a.type="text/css",n==="top"&&i.firstChild?i.insertBefore(a,i.firstChild):i.appendChild(a),a.styleSheet?a.styleSheet.cssText=o:a.appendChild(document.createTextNode(o))}}var ut=".medium-zoom-overlay{position:fixed;top:0;right:0;bottom:0;left:0;opacity:0;transition:opacity .3s;will-change:opacity}.medium-zoom--opened .medium-zoom-overlay{cursor:pointer;cursor:zoom-out;opacity:1}.medium-zoom-image{cursor:pointer;cursor:zoom-in;transition:transform .3s cubic-bezier(.2,0,.2,1)!important}.medium-zoom-image--hidden{visibility:hidden}.medium-zoom-image--opened{position:relative;cursor:pointer;cursor:zoom-out;will-change:transform}";mt(ut);const pt=lt,ft=["src","width","height"],gt=x({name:"ZooImg",__name:"ZoomImg",props:{src:{},width:{},height:{},style:{}},setup(o){const e=o,n=de();return B(()=>{pt(n.value,{background:"var(--vp-c-bg)"})}),(i,a)=>(D(),I("img",{ref_key:"imgRef",ref:n,src:ie(De)(e.src),width:e.width,height:e.height,style:Te(e.style)},null,12,ft))}});const ht={...K,enhanceApp(o){K.enhanceApp(o),o.app.component("FilterJDCookie",nt),o.app.component("BlogList",it),o.app.component("Rain",rt),o.app.component("ZoomImg",gt)},Layout:Ke};function le(o){if(o.extends){const e=le(o.extends);return{...e,...o,async enhanceApp(n){e.enhanceApp&&await e.enhanceApp(n),o.enhanceApp&&await o.enhanceApp(n)}}}return o}const T=le(ht),vt=x({name:"VitePressApp",setup(){const{site:o}=Q();return B(()=>{Ue(()=>{document.documentElement.lang=o.value.lang,document.documentElement.dir=o.value.dir})}),Xe(),Ge(),qe(),T.setup&&T.setup(),()=>Ye(T.Layout)}});async function yt(){const o=_t(),e=zt();e.provide(je,o);const n=Be(o.route);return e.provide(Pe,n),e.component("Content",Ne),e.component("ClientOnly",Fe),Object.defineProperties(e.config.globalProperties,{$frontmatter:{get(){return n.frontmatter.value}},$params:{get(){return n.page.value.params}}}),T.enhanceApp&&await T.enhanceApp({app:e,router:o,siteData:Je}),{app:e,router:o,data:n}}function zt(){return $e(vt)}function _t(){let o=W,e;return Ve(n=>{let i=Me(n);return i?(o&&(e=i),(o||e===i)&&(i=i.replace(/\.js$/,".lean.js")),W&&(o=!1),Ze(()=>import(i),[])):null},T.NotFound)}W&&yt().then(({app:o,router:e,data:n})=>{e.go().then(()=>{Ie(e.route,n.site),o.mount("#app")})});export{yt as createApp};
