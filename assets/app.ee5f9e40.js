import{d,p as k,o as g,c as h,G as b,b as F,F as D,a4 as P,w as L,a5 as J,a6 as S,z as p,t as v,O as V,Q as $,_ as T,u as C,l as O,N as z,h as I,a7 as G,M as y,a8 as N,a9 as X,aa as U,ab as H,ac as M,ad as q,ae as Q,af as K,ag as W,ah as Y,J as Z,k as ee,ai as te,aj as ne,ak as oe,al as ae}from"./chunks/framework.ed5daeb5.js";import{t as R}from"./chunks/theme.c8f9c3d2.js";function j(t,e){return new Promise((o,s)=>{let n;e==="css"?(n=document.createElement("link"),n.rel="stylesheet",n.href=t):e==="js"&&(n=document.createElement("script"),n.src=t),n&&(n.onload=()=>o(t),n.onerror=()=>s(t),document.head.appendChild(n))})}const se=d({name:"GoogleTag",__name:"GoogleTag",setup(t){const e=(...s)=>{window.dataLayer.push(s)},o=()=>{window.dataLayer=window.dataLayer||[],e("js",new Date),e("config","G-1E9XR885EH")};return k(()=>{j("https://www.googletagmanager.com/gtag/js?id=G-1E9XR885EH","js"),o()}),()=>{}}}),ie=d({__name:"Layout",setup(t){const{Layout:e}=R;return(o,s)=>(g(),h(D,null,[b(se),b(F(e))],64))}}),re=t=>(V("data-v-813e07a2"),t=t(),$(),t),ce={class:"filter-jd-cookie"},le=re(()=>p("div",null,"Original Cookie:",-1)),pe=d({name:"FilterJDCookie",__name:"FilterJDCookie",setup(t){const e=P({cookie:"",filteredJDCookie:"",msg:""}),o=n=>{var m,_;const a=n,r=((m=a.match(/pt_pin=.+?;/))==null?void 0:m[0])??"",c=((_=a.match(/pt_key=.+?;/))==null?void 0:_[0])??"";return r+c},s=()=>{const n=o(e.cookie);n?(e.filteredJDCookie=encodeURI(n),window.copy&&window.copy(e.filteredJDCookie),e.msg="过滤成功"):(e.filteredJDCookie="",e.msg="过滤失败")};return L(()=>e.cookie,n=>{n&&s()}),(n,a)=>(g(),h("div",ce,[le,J(p("textarea",{"onUpdate:modelValue":a[0]||(a[0]=r=>e.cookie=r),placeholder:"请把 cookie 黏贴到这里",cols:"30",rows:"10"},null,512),[[S,e.cookie]]),p("div",null,"Filtered JD Cookie: "+v(e.msg?` (${e.msg})`:"")+":",1),p("code",null,v(e.filteredJDCookie),1)]))}});const ue=T(pe,[["__scopeId","data-v-813e07a2"]]),de=["href"],me=d({__name:"BlogList",setup(t){const{theme:e}=C(),o=O(()=>{const s=[],n=Object.values(e.value.sidebar);for(const a of n)for(const{items:r}of a)for(const c of r)s.push(c);return s});return(s,n)=>(g(!0),h(D,null,z(o.value,a=>(g(),h("ul",{key:a.link},[p("li",null,[p("a",{href:a.link},v(a.text),9,de)])]))),128))}}),fe=d({name:"Rain",__name:"Rain",setup(t){const e=()=>{const n=I();let a;const r="https://raw.githubusercontent.com/zhixiangyao/CDN/master/images",c={desktopDark:r+"/anime/fate/999332.png",desktopLight:r+"/anime/fate/688669.png",mobileDark:r+"/anime/twitter/3.jpeg",mobileLight:r+"/anime/twitter/2.jpeg"},w="https://yaozhixiang.top/assets/js/RaindropFX.js",m=()=>{if(!n.value||!a)return;const i=n.value.getBoundingClientRect();a.resize(i.width,i.height)},_=()=>{if(!a)return;const i=document.body.getBoundingClientRect();o.value?i.height>i.width?a.setBackground(c.mobileDark):a.setBackground(c.desktopDark):i.height>i.width?a.setBackground(c.mobileLight):a.setBackground(c.desktopLight)},A=i=>{Object.defineProperty(window,"RaindropFX",{value:null,writable:!0,configurable:!0});const l=document.querySelector(`[src="${i}"]`);l==null||l.remove()},B=async()=>{try{const i=document.body.getBoundingClientRect(),l=n.value.getBoundingClientRect();n.value.width=l.width,n.value.height=l.height;let f;o.value?i.height>i.width?f=c.mobileDark:f=c.desktopDark:i.height>i.width?f=c.mobileLight:f=c.desktopLight;const E={canvas:n.value,background:f};a=new window.RaindropFX(E),a.start()}catch(i){console.error(i)}};return k(()=>{A(w),j(w,"js").then(()=>{B()})}),L(o,()=>{_()}),k(()=>{window.addEventListener("resize",m)}),G(()=>{window.removeEventListener("resize",m)}),{canvasRef:n}},{isDark:o}=C(),{canvasRef:s}=e();return(n,a)=>(g(),h("canvas",{ref:r=>s.value=r,id:"rain"},null,512))}});const ge={...R,enhanceApp(t){R.enhanceApp(t),t.app.component("FilterJDCookie",ue),t.app.component("BlogList",me),t.app.component("Rain",fe)},Layout:ie};function x(t){if(t.extends){const e=x(t.extends);return{...e,...t,async enhanceApp(o){e.enhanceApp&&await e.enhanceApp(o),t.enhanceApp&&await t.enhanceApp(o)}}}return t}const u=x(ge),he=d({name:"VitePressApp",setup(){const{site:t}=C();return k(()=>{ee(()=>{document.documentElement.lang=t.value.lang,document.documentElement.dir=t.value.dir})}),te(),ne(),oe(),u.setup&&u.setup(),()=>ae(u.Layout)}});async function _e(){const t=we(),e=ke();e.provide(X,t);const o=U(t.route);return e.provide(H,o),e.component("Content",M),e.component("ClientOnly",q),Object.defineProperties(e.config.globalProperties,{$frontmatter:{get(){return o.frontmatter.value}},$params:{get(){return o.page.value.params}}}),u.enhanceApp&&await u.enhanceApp({app:e,router:t,siteData:Q}),{app:e,router:t,data:o}}function ke(){return K(he)}function we(){let t=y,e;return W(o=>{let s=Y(o);return t&&(e=s),(t||e===s)&&(s=s.replace(/\.js$/,".lean.js")),y&&(t=!1),Z(()=>import(s),[])},u.NotFound)}y&&_e().then(({app:t,router:e,data:o})=>{e.go().then(()=>{N(e.route,o.site),t.mount("#app")})});export{_e as createApp};
