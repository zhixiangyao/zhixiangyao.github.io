import{d as S,j as P,o as E,c as k,H as ae,l as se,F as Z,Z as Ce,x as de,$ as Le,a0 as He,k as L,t as I,p as Re,m as xe,_ as Oe,u as te,g as Se,D as K,h as ce,a1 as Ae,N as Te,f as De,s as Q,a2 as Ie,a3 as je,a4 as Be,a5 as Ne,a6 as Pe,a7 as Fe,a8 as $e,a9 as Je,aa as Ve,ab as Ze,ac as Me,y as Ue,ad as Xe,ae as qe,af as Ge,ag as Ye}from"./chunks/framework.70fe992a.js";import{t as ee}from"./chunks/theme.2c79220b.js";function le(o,e){return new Promise((n,a)=>{let i;e==="css"?(i=document.createElement("link"),i.rel="stylesheet",i.href=o):e==="js"&&(i=document.createElement("script"),i.src=o),i&&(i.onload=()=>n(o),i.onerror=()=>a(o),document.head.appendChild(i))})}const We=S({name:"GoogleTag",__name:"GoogleTag",setup(o){const e=(...a)=>{window.dataLayer.push(a)},n=()=>{window.dataLayer=window.dataLayer||[],e("js",new Date),e("config","G-1E9XR885EH")};return P(()=>{le("https://www.googletagmanager.com/gtag/js?id=G-1E9XR885EH","js"),n()}),()=>{}}}),Ke=S({__name:"Layout",setup(o){const{Layout:e}=ee;return(n,a)=>(E(),k(Z,null,[ae(We),ae(se(e))],64))}});const Qe=o=>(Re("data-v-c6200a00"),o=o(),xe(),o),et={class:"filter-jd-cookie"},tt=Qe(()=>L("div",null,"Original Cookie:",-1)),ot=S({name:"FilterJDCookie",__name:"FilterJDCookie",setup(o){const e=Ce({cookie:"",filteredJDCookie:"",msg:""}),n=i=>{var w,H;const m=i,p=((w=m.match(/pt_pin=.+?;/))==null?void 0:w[0])??"",l=((H=m.match(/pt_key=.+?;/))==null?void 0:H[0])??"";return p+l},a=()=>{const i=n(e.cookie);i?(e.filteredJDCookie=encodeURI(i),window.copy&&window.copy(e.filteredJDCookie),e.msg="过滤成功"):(e.filteredJDCookie="",e.msg="过滤失败")};return de(()=>e.cookie,i=>{i&&a()}),(i,m)=>(E(),k("div",et,[tt,Le(L("textarea",{"onUpdate:modelValue":m[0]||(m[0]=p=>e.cookie=p),placeholder:"请把 cookie 黏贴到这里",cols:"30",rows:"10"},null,512),[[He,e.cookie]]),L("div",null,"Filtered JD Cookie: "+I(e.msg?` (${e.msg})`:"")+":",1),L("code",null,I(e.filteredJDCookie),1)]))}});const nt=Oe(ot,[["__scopeId","data-v-c6200a00"]]),at={key:0},rt=["href"],it=["href"],st=S({__name:"BlogList",setup(o){const{theme:e}=te(),n=Se(()=>Object.entries(e.value.sidebar)),a=i=>{const[m,...p]=i.replace("/","").replace("/","");return m.toUpperCase()+p.join("")};return(i,m)=>(E(!0),k(Z,null,K(n.value,([p,l])=>(E(),k("ul",{key:p},[L("li",null,[L("b",null,I(a(p)),1),(E(!0),k(Z,null,K(l,y=>{var w;return E(),k("ul",{key:y.text},[((w=y.items)==null?void 0:w.length)!==void 0?(E(),k("li",at,[L("b",null,I(y.text),1),(E(!0),k(Z,null,K(y.items,({text:H,link:B})=>(E(),k("ul",{key:H},[L("li",null,[L("a",{href:(y.base??"")+B},[L("b",null,I(H),1)],8,rt)])]))),128))])):(E(),k("a",{key:1,href:(y.base??"")+y.link},[L("b",null,I(y.text),1)],8,it))])}),128))])]))),128))}}),dt=S({name:"Rain",__name:"Rain",props:{bg:{}},setup(o){const e=o,n=m=>{const p=ce();let l;const y="https://yaozhixiang.top/assets/js/RaindropFX.js",w=()=>{if(!p.value||!l)return;const g=p.value.getBoundingClientRect();l.resize(g.width,g.height)},H=()=>{if(!l)return;const g=document.body.getBoundingClientRect();a.value?g.height>g.width?l.setBackground(m.mobileDark):l.setBackground(m.desktopDark):g.height>g.width?l.setBackground(m.mobileLight):l.setBackground(m.desktopLight)},B=g=>{Object.defineProperty(window,"RaindropFX",{value:null,writable:!0,configurable:!0});const v=document.querySelector(`[src="${g}"]`);v==null||v.remove()},U=async()=>{try{const g=document.body.getBoundingClientRect(),v=p.value.getBoundingClientRect();p.value.width=v.width,p.value.height=v.height;let R;a.value?g.height>g.width?R=m.mobileDark:R=m.desktopDark:g.height>g.width?R=m.mobileLight:R=m.desktopLight;const X={canvas:p.value,background:R};l=new window.RaindropFX(X),l.start()}catch(g){console.error(g)}};return P(()=>{B(y),le(y,"js").then(()=>{U()})}),de(a,()=>{H()}),P(()=>{window.addEventListener("resize",w)}),Ae(()=>{window.removeEventListener("resize",w)}),{canvasRef:p}},{isDark:a}=te(),{canvasRef:i}=n(e.bg);return(m,p)=>(E(),k("canvas",{ref_key:"canvasRef",ref:i,id:"rain"},null,512))}});/*! medium-zoom 1.0.8 | MIT License | https://github.com/francoischalifour/medium-zoom */var O=Object.assign||function(o){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(o[a]=n[a])}return o},V=function(e){return e.tagName==="IMG"},ct=function(e){return NodeList.prototype.isPrototypeOf(e)},M=function(e){return e&&e.nodeType===1},re=function(e){var n=e.currentSrc||e.src;return n.substr(-4).toLowerCase()===".svg"},ie=function(e){try{return Array.isArray(e)?e.filter(V):ct(e)?[].slice.call(e).filter(V):M(e)?[e].filter(V):typeof e=="string"?[].slice.call(document.querySelectorAll(e)).filter(V):[]}catch{throw new TypeError(`The provided selector is invalid.
Expects a CSS selector, a Node element, a NodeList or an array.
See: https://github.com/francoischalifour/medium-zoom`)}},lt=function(e){var n=document.createElement("div");return n.classList.add("medium-zoom-overlay"),n.style.background=e,n},ut=function(e){var n=e.getBoundingClientRect(),a=n.top,i=n.left,m=n.width,p=n.height,l=e.cloneNode(),y=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0,w=window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0;return l.removeAttribute("id"),l.style.position="absolute",l.style.top=a+y+"px",l.style.left=i+w+"px",l.style.width=m+"px",l.style.height=p+"px",l.style.transform="",l},D=function(e,n){var a=O({bubbles:!1,cancelable:!1,detail:void 0},n);if(typeof window.CustomEvent=="function")return new CustomEvent(e,a);var i=document.createEvent("CustomEvent");return i.initCustomEvent(e,a.bubbles,a.cancelable,a.detail),i},mt=function o(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=window.Promise||function(r){function s(){}r(s,s)},i=function(r){var s=r.target;if(s===$){v();return}b.indexOf(s)!==-1&&R({target:s})},m=function(){if(!(A||!t.original)){var r=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0;Math.abs(oe-r)>c.scrollOffset&&setTimeout(v,150)}},p=function(r){var s=r.key||r.keyCode;(s==="Escape"||s==="Esc"||s===27)&&v()},l=function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},s=r;if(r.background&&($.style.background=r.background),r.container&&r.container instanceof Object&&(s.container=O({},c.container,r.container)),r.template){var u=M(r.template)?r.template:document.querySelector(r.template);s.template=u}return c=O({},c,s),b.forEach(function(f){f.dispatchEvent(D("medium-zoom:update",{detail:{zoom:h}}))}),h},y=function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return o(O({},c,r))},w=function(){for(var r=arguments.length,s=Array(r),u=0;u<r;u++)s[u]=arguments[u];var f=s.reduce(function(d,z){return[].concat(d,ie(z))},[]);return f.filter(function(d){return b.indexOf(d)===-1}).forEach(function(d){b.push(d),d.classList.add("medium-zoom-image")}),F.forEach(function(d){var z=d.type,C=d.listener,T=d.options;f.forEach(function(x){x.addEventListener(z,C,T)})}),h},H=function(){for(var r=arguments.length,s=Array(r),u=0;u<r;u++)s[u]=arguments[u];t.zoomed&&v();var f=s.length>0?s.reduce(function(d,z){return[].concat(d,ie(z))},[]):b;return f.forEach(function(d){d.classList.remove("medium-zoom-image"),d.dispatchEvent(D("medium-zoom:detach",{detail:{zoom:h}}))}),b=b.filter(function(d){return f.indexOf(d)===-1}),h},B=function(r,s){var u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return b.forEach(function(f){f.addEventListener("medium-zoom:"+r,s,u)}),F.push({type:"medium-zoom:"+r,listener:s,options:u}),h},U=function(r,s){var u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return b.forEach(function(f){f.removeEventListener("medium-zoom:"+r,s,u)}),F=F.filter(function(f){return!(f.type==="medium-zoom:"+r&&f.listener.toString()===s.toString())}),h},g=function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},s=r.target,u=function(){var d={width:document.documentElement.clientWidth,height:document.documentElement.clientHeight,left:0,top:0,right:0,bottom:0},z=void 0,C=void 0;if(c.container)if(c.container instanceof Object)d=O({},d,c.container),z=d.width-d.left-d.right-c.margin*2,C=d.height-d.top-d.bottom-c.margin*2;else{var T=M(c.container)?c.container:document.querySelector(c.container),x=T.getBoundingClientRect(),q=x.width,fe=x.height,ge=x.left,he=x.top;d=O({},d,{width:q,height:fe,left:ge,top:he})}z=z||d.width-c.margin*2,C=C||d.height-c.margin*2;var N=t.zoomedHd||t.original,ve=re(N)?z:N.naturalWidth||z,ye=re(N)?C:N.naturalHeight||C,J=N.getBoundingClientRect(),_e=J.top,ze=J.left,G=J.width,Y=J.height,we=Math.min(Math.max(G,ve),z)/G,be=Math.min(Math.max(Y,ye),C)/Y,W=Math.min(we,be),Ee=(-ze+(z-G)/2+c.margin+d.left)/W,ke=(-_e+(C-Y)/2+c.margin+d.top)/W,ne="scale("+W+") translate3d("+Ee+"px, "+ke+"px, 0)";t.zoomed.style.transform=ne,t.zoomedHd&&(t.zoomedHd.style.transform=ne)};return new a(function(f){if(s&&b.indexOf(s)===-1){f(h);return}var d=function q(){A=!1,t.zoomed.removeEventListener("transitionend",q),t.original.dispatchEvent(D("medium-zoom:opened",{detail:{zoom:h}})),f(h)};if(t.zoomed){f(h);return}if(s)t.original=s;else if(b.length>0){var z=b;t.original=z[0]}else{f(h);return}if(t.original.dispatchEvent(D("medium-zoom:open",{detail:{zoom:h}})),oe=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0,A=!0,t.zoomed=ut(t.original),document.body.appendChild($),c.template){var C=M(c.template)?c.template:document.querySelector(c.template);t.template=document.createElement("div"),t.template.appendChild(C.content.cloneNode(!0)),document.body.appendChild(t.template)}if(t.original.parentElement&&t.original.parentElement.tagName==="PICTURE"&&t.original.currentSrc&&(t.zoomed.src=t.original.currentSrc),document.body.appendChild(t.zoomed),window.requestAnimationFrame(function(){document.body.classList.add("medium-zoom--opened")}),t.original.classList.add("medium-zoom-image--hidden"),t.zoomed.classList.add("medium-zoom-image--opened"),t.zoomed.addEventListener("click",v),t.zoomed.addEventListener("transitionend",d),t.original.getAttribute("data-zoom-src")){t.zoomedHd=t.zoomed.cloneNode(),t.zoomedHd.removeAttribute("srcset"),t.zoomedHd.removeAttribute("sizes"),t.zoomedHd.removeAttribute("loading"),t.zoomedHd.src=t.zoomed.getAttribute("data-zoom-src"),t.zoomedHd.onerror=function(){clearInterval(T),console.warn("Unable to reach the zoom image target "+t.zoomedHd.src),t.zoomedHd=null,u()};var T=setInterval(function(){t.zoomedHd.complete&&(clearInterval(T),t.zoomedHd.classList.add("medium-zoom-image--opened"),t.zoomedHd.addEventListener("click",v),document.body.appendChild(t.zoomedHd),u())},10)}else if(t.original.hasAttribute("srcset")){t.zoomedHd=t.zoomed.cloneNode(),t.zoomedHd.removeAttribute("sizes"),t.zoomedHd.removeAttribute("loading");var x=t.zoomedHd.addEventListener("load",function(){t.zoomedHd.removeEventListener("load",x),t.zoomedHd.classList.add("medium-zoom-image--opened"),t.zoomedHd.addEventListener("click",v),document.body.appendChild(t.zoomedHd),u()})}else u()})},v=function(){return new a(function(r){if(A||!t.original){r(h);return}var s=function u(){t.original.classList.remove("medium-zoom-image--hidden"),document.body.removeChild(t.zoomed),t.zoomedHd&&document.body.removeChild(t.zoomedHd),document.body.removeChild($),t.zoomed.classList.remove("medium-zoom-image--opened"),t.template&&document.body.removeChild(t.template),A=!1,t.zoomed.removeEventListener("transitionend",u),t.original.dispatchEvent(D("medium-zoom:closed",{detail:{zoom:h}})),t.original=null,t.zoomed=null,t.zoomedHd=null,t.template=null,r(h)};A=!0,document.body.classList.remove("medium-zoom--opened"),t.zoomed.style.transform="",t.zoomedHd&&(t.zoomedHd.style.transform=""),t.template&&(t.template.style.transition="opacity 150ms",t.template.style.opacity=0),t.original.dispatchEvent(D("medium-zoom:close",{detail:{zoom:h}})),t.zoomed.addEventListener("transitionend",s)})},R=function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},s=r.target;return t.original?v():g({target:s})},X=function(){return c},me=function(){return b},pe=function(){return t.original},b=[],F=[],A=!1,oe=0,c=n,t={original:null,zoomed:null,zoomedHd:null,template:null};Object.prototype.toString.call(e)==="[object Object]"?c=e:(e||typeof e=="string")&&w(e),c=O({margin:0,background:"#fff",scrollOffset:40,container:null,template:null},c);var $=lt(c.background);document.addEventListener("click",i),document.addEventListener("keyup",p),document.addEventListener("scroll",m),window.addEventListener("resize",v);var h={open:g,close:v,toggle:R,update:l,clone:y,attach:w,detach:H,on:B,off:U,getOptions:X,getImages:me,getZoomedImage:pe};return h};function pt(o,e){e===void 0&&(e={});var n=e.insertAt;if(!(!o||typeof document>"u")){var a=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css",n==="top"&&a.firstChild?a.insertBefore(i,a.firstChild):a.appendChild(i),i.styleSheet?i.styleSheet.cssText=o:i.appendChild(document.createTextNode(o))}}var ft=".medium-zoom-overlay{position:fixed;top:0;right:0;bottom:0;left:0;opacity:0;transition:opacity .3s;will-change:opacity}.medium-zoom--opened .medium-zoom-overlay{cursor:pointer;cursor:zoom-out;opacity:1}.medium-zoom-image{cursor:pointer;cursor:zoom-in;transition:transform .3s cubic-bezier(.2,0,.2,1)!important}.medium-zoom-image--hidden{visibility:hidden}.medium-zoom-image--opened{position:relative;cursor:pointer;cursor:zoom-out;will-change:transform}";pt(ft);const gt=mt,ht=["src","width","height"],vt=S({name:"ZooImg",__name:"ZoomImg",props:{src:{},width:{},height:{},style:{}},setup(o){const e=o,n=ce();return P(()=>{gt(n.value,{background:"var(--vp-c-bg)"})}),(a,i)=>(E(),k("img",{ref_key:"imgRef",ref:n,src:se(De)(e.src),width:e.width,height:e.height,style:Te(e.style)},null,12,ht))}});const yt={...ee,enhanceApp(o){ee.enhanceApp(o),o.app.component("FilterJDCookie",nt),o.app.component("BlogList",st),o.app.component("Rain",dt),o.app.component("ZoomImg",vt)},Layout:Ke};function ue(o){if(o.extends){const e=ue(o.extends);return{...e,...o,async enhanceApp(n){e.enhanceApp&&await e.enhanceApp(n),o.enhanceApp&&await o.enhanceApp(n)}}}return o}const j=ue(yt),_t=S({name:"VitePressApp",setup(){const{site:o}=te();return P(()=>{Ue(()=>{document.documentElement.lang=o.value.lang,document.documentElement.dir=o.value.dir})}),Xe(),qe(),Ge(),j.setup&&j.setup(),()=>Ye(j.Layout)}});async function zt(){const o=bt(),e=wt();e.provide(je,o);const n=Be(o.route);return e.provide(Ne,n),e.component("Content",Pe),e.component("ClientOnly",Fe),Object.defineProperties(e.config.globalProperties,{$frontmatter:{get(){return n.frontmatter.value}},$params:{get(){return n.page.value.params}}}),j.enhanceApp&&await j.enhanceApp({app:e,router:o,siteData:$e}),{app:e,router:o,data:n}}function wt(){return Je(_t)}function bt(){let o=Q,e;return Ve(n=>{let a=Ze(n);return a?(o&&(e=a),(o||e===a)&&(a=a.replace(/\.js$/,".lean.js")),Q&&(o=!1),Me(()=>import(a),[])):null},j.NotFound)}Q&&zt().then(({app:o,router:e,data:n})=>{e.go().then(()=>{Ie(e.route,n.site),o.mount("#app")})});export{zt as createApp};
